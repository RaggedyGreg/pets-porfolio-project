"use strict";(self.webpackChunkpet_manager=self.webpackChunkpet_manager||[]).push([[706],{3706:(e,r,t)=>{t.r(r),t.d(r,{default:()=>E});var n=t(835),a=t(2604),i=t(1637),o=t(4194),l=t(490),d=t(1906),s=t(1045),c=t(8903),h=t(5865),u=t(5721),m=t(1322),x=t(8734);function y(e){return"bird"===e.kind}var j=t(7332),p=t(4117),A=t(5043),g=t(2721);var v=t(1733),b=t(4319),f=t(1524),w=t(1801),k=t(579);const E=()=>{const{t:e}=(0,p.Bd)(),{id:r}=(0,n.g)(),t=(0,n.Zp)(),{data:E,loading:P,error:I}=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const[t,n]=(0,A.useState)(null),[a,i]=(0,A.useState)(!0),[o,l]=(0,A.useState)(null),[d,s]=(0,A.useState)(0),c=(0,A.useRef)(null);return(0,A.useEffect)((()=>((async()=>{c.current&&c.current.abort(),c.current=new AbortController;const t=c.current.signal;i(!0),l(null);try{if(await new Promise(((e,r)=>{const n=setTimeout(e,200);t.addEventListener("abort",(()=>{clearTimeout(n),r(new Error("Request aborted"))}))})),t.aborted)throw new Error("Request aborted");const r=e.match(/\/(\d+)$/),a=r?parseInt(r[1],10):null;if(null===a)throw new Error("Invalid pet ID");const i=(0,g.or)(a);if(!i)throw new Error("Pet not found");t.aborted||(n(i),s(0))}catch(a){if(!t.aborted){const e=a instanceof Error?a:new Error("Failed to load pet details");d<r&&"Pet not found"!==e.message?s((e=>e+1)):l(e)}}finally{t.aborted||i(!1)}})(),()=>{c.current&&c.current.abort()})),[e,d,r]),{data:t,loading:a,error:o}}(w.v.getPetDetail(r||""));return!E&&P?(0,k.jsx)(i.A,{}):I||!E?(0,k.jsx)(a.A,{p:3,children:(0,k.jsxs)(o.A,{severity:"error",children:[(0,k.jsx)(l.A,{children:e("detail.error.title","Pet Not Found")}),e("detail.error.message","We couldn't find the pet you're looking for. It may have been removed or the ID is incorrect."),(0,k.jsx)(a.A,{sx:{mt:2},children:(0,k.jsx)(d.A,{variant:"contained",onClick:()=>t("/"),children:e("detail.error.backHome","Back to Home")})})]})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(a.A,{onClick:()=>t("/"),sx:{cursor:"pointer"},p:1,role:"button",tabIndex:0,onKeyPress:e=>"Enter"===e.key&&t("/"),"aria-label":e("detail.backToHome","Go back to home page"),children:(0,k.jsx)(s.A,{children:(0,k.jsx)(j.A,{})})}),(0,k.jsxs)(c.Ay,{container:!0,p:3,spacing:2,component:"main","aria-label":e("detail.mainContent","Pet details"),children:[(0,k.jsx)(c.Ay,{item:!0,md:6,textAlign:"center",children:(0,k.jsx)("img",{"data-testid":"bigImage",alt:e("detail.imageAlt","Photo of {{name}}",{name:null===E||void 0===E?void 0:E.name}),height:200,src:null===E||void 0===E?void 0:E.photo_url,onError:e=>{let{currentTarget:r}=e;r.onerror=null,r.src=v.mX}})}),(0,k.jsxs)(c.Ay,{item:!0,md:6,children:[(0,k.jsx)(h.A,{variant:"h4",component:"h1",id:"pet-name",children:null===E||void 0===E?void 0:E.name}),(0,k.jsxs)(u.A,{sx:{flexFlow:"column wrap"},"aria-labelledby":"pet-name",children:[(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.weight"),secondary:null===E||void 0===E?void 0:E.weight})}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.height"),secondary:null===E||void 0===E?void 0:E.height})}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.length"),secondary:null===E||void 0===E?void 0:E.length})}),(_=E,"cat"===_.kind&&(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.numberOfLives"),secondary:E.number_of_lives})})),y(E)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.wingspan"),secondary:"".concat(E.wingspan," cm")})}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.numOfFeathers"),secondary:E.num_of_feathers})})]}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.description"),secondary:null===E||void 0===E?void 0:E.description})}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{primary:e("detail.kind"),secondary:(0,k.jsx)("img",{"data-testid":"kindImage",alt:"Pet",height:30,src:(0,b.Ny)(null===E||void 0===E?void 0:E.kind)})})}),(0,k.jsx)(m.Ay,{children:(0,k.jsx)(x.A,{"data-testid":"health",primary:e("detail.health"),secondary:(0,k.jsx)(f.X,{pet:E})})})]})]})]})]});var _}}}]);
//# sourceMappingURL=706.c13c9cda.chunk.js.map